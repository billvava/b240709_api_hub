(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-category-category"],{"09da":function(t,e,a){"use strict";a.r(e);var n=a("b8f6"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},"279e":function(t,e,a){var n=a("ea70");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("967d").default;r("21682aba",n,!0,{sourceMap:!1,shadowMode:!1})},"2f81":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* COOL-UNI 颜色变量 */\r\n/* 颜色变量 */\r\n/* 颜色变量 */\r\n/* 默认颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.search-content[data-v-27aa3186]{padding:%?24?% %?24?% %?32?%;background:#fff}.category-container[data-v-27aa3186]{display:flex}.category-container .nav[data-v-27aa3186]{flex:none;width:%?160?%}.category-container .nav .item[data-v-27aa3186]{display:flex;align-items:center;height:%?96?%;padding:0 %?15?% 0 %?20?%;box-sizing:border-box;position:relative}.category-container .nav .item.active[data-v-27aa3186]{color:#1a72de;background:#fff}.category-container .nav .item.active[data-v-27aa3186]::before{top:0;bottom:0}.category-container .nav .item.active uni-image[data-v-27aa3186]{display:block}.category-container .nav .item[data-v-27aa3186]::before{content:"";width:%?4?%;background:#1a72de;border-radius:%?4?%;position:absolute;left:0;top:50%;bottom:50%;transition:all .3s}.category-container .nav .item uni-text[data-v-27aa3186]{display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}.category-container .nav .item uni-image[data-v-27aa3186]{display:none;width:%?15?%;height:%?15?%;position:absolute;right:0}.category-container .nav .item uni-image[data-v-27aa3186]:first-of-type{top:%?-15?%}.category-container .nav .item uni-image[data-v-27aa3186]:last-of-type{bottom:%?-15?%;-webkit-transform:scaleY(-1);transform:scaleY(-1)}.category-container .category-list[data-v-27aa3186]{background:#fff}.category-container .category-list .sub-title[data-v-27aa3186]{line-height:%?96?%;font-size:%?32?%;color:#333;padding-left:%?22?%}.category-container .category-list .sub-categories[data-v-27aa3186]{display:flex;flex-wrap:wrap}.category-container .category-list .sub-categories uni-navigator[data-v-27aa3186]{display:flex;align-items:center;flex-direction:column;width:%?140?%;height:%?172?%;padding-top:%?12?%;box-sizing:border-box;margin:0 %?28?% %?36?%}.category-container .category-list .sub-categories uni-navigator uni-image[data-v-27aa3186]{width:%?100?%;height:%?100?%;margin-bottom:%?4?%}.category-container .category-list .sub-categories uni-navigator uni-text[data-v-27aa3186]{width:80%;line-height:%?36?%;text-align:center;font-size:%?26?%;color:#333;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}',""]),t.exports=e},"3fe6":function(t,e,a){"use strict";a.r(e);var n=a("9b4d"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},"534d":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("bf0f"),a("5c47");e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return Promise.reject("element selector required.");var a=uni.createSelectorQuery();return e&&a.in(e),new Promise((function(n,r){a.select(t).boundingClientRect((function(a){console.log("selector[".concat(t,"] query boundingClientRect:"),a,e),n(a)})).exec()}))}},"5d35":function(t,e,a){"use strict";var n=a("279e"),r=a.n(n);r.a},"74eb":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={search:a("bb95").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("v-uni-view",[a("v-uni-view",{staticClass:"search-content"},[a("search",{on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"category-container"},[a("v-uni-view",{staticClass:"nav"},t._l(t.data.category_list,(function(e){return a("v-uni-view",{staticClass:"item",class:{active:t.currentNav===e.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleSelectSubCategory(e)}}},[a("v-uni-text",[t._v(t._s(e.name))]),a("v-uni-image",{attrs:{src:t.static+"category/bg-nav-arrow.png",mode:"scaleToFill"}}),a("v-uni-image",{attrs:{src:t.static+"category/bg-nav-arrow.png",mode:"scaleToFill"}})],1)})),1),a("v-uni-scroll-view",{staticClass:"category-list",style:{height:t.height},attrs:{"scroll-y":!0,"scroll-with-animation":!0,"enable-back-to-top":!0,"scroll-into-view":t.currentCategoryId},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCategoryListScroll.apply(void 0,arguments)}}},[t._l(t.data.category_list,(function(e){return[a("v-uni-view",{staticClass:"sub-title",attrs:{id:e.id}},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"sub-categories"},t._l(e.children,(function(e){return a("v-uni-navigator",{attrs:{"open-type":"redirect",url:"/pages/goods/index2/index?category_id="+e.category_id}},[a("v-uni-image",{attrs:{src:e.thumb,mode:"aspectFit"}}),a("v-uni-text",[t._v(t._s(e.name))])],1)})),1)]}))],2)],1)],1):t._e()},i=[]},"9b4d":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"search",props:{placeholder:{type:String,default:"输入关键字搜索"},mall:{type:Boolean,default:!1},btnSearch:{type:Boolean,default:!1}},data:function(){return{static:getApp().globalData.cdn,searchText:""}},methods:{changeVal:function(t){this.searchText=t},handleChange:function(t){this.searchText=t,this.$emit("change",t)},confirm:function(t){this.$emit("confirm",this.searchText)},handleSearch:function(){this.$emit("search",this.searchText)}}};e.default=n},a815:function(t,e,a){var n=a("2f81");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("967d").default;r("014f0738",n,!0,{sourceMap:!1,shadowMode:!1})},a9af:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={uInput:a("8223").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"search",class:{mall:t.mall}},[a("v-uni-image",{attrs:{src:t.static+"common/icon-search.png",mode:"scaleToFill"}}),a("u-input",{attrs:{border:"none",placeholder:t.placeholder,value:t.searchText},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}}),t.btnSearch?a("v-uni-view",{staticClass:"btn-search",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSearch.apply(void 0,arguments)}}},[t._v("搜索")]):t._e()],1)},i=[]},b8f6:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("5c47"),a("dc69"),a("aa77"),a("bf0f");var r=n(a("534d")),i={data:function(){return{static:getApp().globalData.cdn,height:"100vh",currentNav:"",currentNavLock:!1,currentCategoryId:"",subTitlesRect:[],categories:[],category_id:0,data:null,name:""}},onLoad:function(){this.get_data()},methods:{search:function(t){this.name=t,this.get_data()},get_data:function(){var t=this,e={name:t.name};t.util.ajax("/mallapi/cate/cate_list2",e,(function(e){t.data=e.data,setTimeout((function(){(0,r.default)(".category-list").then((function(e){var a=uni.getSystemInfoSync(),n=a.windowTop;t.height="calc(100vh - ".concat(n,"px - ").concat(e.top,"px)")}))}),0),t.currentNav=t.data.category_list[0].id,setTimeout((function(){uni.createSelectorQuery().selectAll(".sub-title").fields({id:!0,rect:!0}).exec((function(e){t.subTitlesRect=e[0].reverse()}))}),300)}))},handleSelectSubCategory:function(t){console.log(t),this.currentCategoryId=t.id,this.currentNav=t.id,this.currentNavLock=!0},handleCategoryListScroll:function(t){var e=t.currentTarget.offsetTop+t.detail.scrollTop,a=this.subTitlesRect.find((function(t){return t.top<=e}));a&&(this.currentNavLock&&this.currentNav!==a.id?(this.currentNav=this.currentCategoryId,this.currentNavLock=!1):this.currentNav=a.id)}}};e.default=i},bb95:function(t,e,a){"use strict";a.r(e);var n=a("a9af"),r=a("3fe6");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("5d35");var o=a("828b"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"4bac3b9b",null,!1,n["a"],void 0);e["default"]=c.exports},ea70:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* COOL-UNI 颜色变量 */\r\n/* 颜色变量 */\r\n/* 颜色变量 */\r\n/* 默认颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.search[data-v-4bac3b9b]{flex:1;display:flex;align-items:center;height:%?72?%;border-radius:%?36?%;background:#f6f6f6;padding-right:%?120?%;box-sizing:border-box;position:relative}.search.mall[data-v-4bac3b9b]{background:#fff;box-shadow:0 0 0 %?2?% #639dff inset}.search uni-image[data-v-4bac3b9b]{width:%?48?%;height:%?48?%;margin:0 %?16?% 0 %?20?%}.search .btn-search[data-v-4bac3b9b]{display:flex;align-items:center;justify-content:center;width:%?100?%;height:%?56?%;color:#fff;border-radius:%?30?%;background:linear-gradient(90deg,#2c7cf8,#00acff);position:absolute;right:%?8?%;top:%?8?%}',""]),t.exports=e},f098:function(t,e,a){"use strict";var n=a("a815"),r=a.n(n);r.a},f73d:function(t,e,a){"use strict";a.r(e);var n=a("74eb"),r=a("09da");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("f098");var o=a("828b"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"27aa3186",null,!1,n["a"],void 0);e["default"]=c.exports}}]);